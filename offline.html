<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phoenix - Temporariamente indisponível</title>
  <link rel="icon" href="src/assets/logo-ico.png" type="image/png">
  <meta name="robots" content="noindex">
  <style>
    :root {
      --bg:#000; --panel:#0e0e0e; --text:#fff; --muted:#aaaaaa; --brand:#A70240; --border:#222;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, sans-serif;}
    .wrap{min-height:100%; display:flex; align-items:center; justify-content:center; padding:24px}
    .card{width:100%; max-width:760px; background:transparent; border:none; border-radius:16px; padding:12px; text-align:center}
    .logo{height:64px; width:auto; display:block; margin:0 auto 16px auto}
    h1{font-size:clamp(24px, 3vw, 36px); margin:8px 0 12px 0}
    p{color:var(--muted); font-size:clamp(14px, 2.2vw, 18px); line-height:1.6; margin:0 auto 18px auto; max-width:56ch}
    .badge{display:inline-block; background:linear-gradient(90deg, var(--brand), #6a022b); color:#fff; font-weight:700; padding:8px 14px; border-radius:999px; margin-bottom:6px; font-size:12px; letter-spacing:.06em}
    .cta{margin-top:8px}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:10px 16px; border-radius:999px; text-decoration:none; font-weight:700; border:1px solid #2a2a2a; background:#0f0f0f; color:#fff}
    .btn:hover{border-color:var(--brand); box-shadow:0 0 0 3px rgba(167,2,64,.15)}
    .row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
    .muted{color:var(--muted); font-size:12px}
    .pulse{position:relative}
    .pulse::after{content:""; position:absolute; inset:-4px; border-radius:999px; border:2px solid rgba(167,2,64,.25); animation:pulse 2s infinite}
    @keyframes pulse { 0%{opacity:.8; transform:scale(.98)} 70%{opacity:0; transform:scale(1.15)} 100%{opacity:0} }
    .hide{display:none}

    /* Fonte Axiforma (para o título social) */
    @font-face {
      font-family: 'Axiforma';
      src: url('src/fonts/Axiforma-Regular.woff2') format('woff2');
      font-weight: 400; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'Axiforma';
      src: url('src/fonts/Axiforma-Bold.woff2') format('woff2');
      font-weight: 700; font-style: normal; font-display: swap;
    }
    .font-axiforma { font-family: 'Axiforma', Arial, sans-serif; }

    /* Ícones sociais idênticos ao footer (apenas ícones, sem fundo circular) */
    .social { display:flex; align-items:center; justify-content:center; gap:16px; flex-wrap:wrap; margin-top:8px; }
    .social a { color:#bfbfbf; text-decoration:none; transition: color .2s ease; display:inline-flex; align-items:center; justify-content:center; }
    .social a:hover { color: var(--brand); }
    .social svg { width:22px; height:22px; fill: currentColor; }
    .social-title { margin-top:8px; margin-bottom:2px; color:#9f9f9f; font-size:12px; letter-spacing:.02em; }
  </style>
</head>
<body>
  <div class="wrap">
    <main class="card" role="alert" aria-live="polite">
      <img class="logo" src="src/assets/logo-phoenix.png" alt="Phoenix" />
      <div class="badge pulse">Atualizando conexão…</div>
      <h1>Não foi possível carregar a página agora</h1>
      <p>
        Pode ser uma instabilidade temporária na rede ou em um serviço de terceiros. 
        Assim que a conexão normalizar, retornaremos automaticamente para a nossa página.
      </p>
      
      <p class="muted">Erro persiste? Tente em alguns minutos.</p>
    </main>
  </div>
  <script>
    (function(){
      const RETRY_PATH = '/'; // ajuste se o site não estiver na raiz

      async function onlineCheck(){
        // Primeiro, checa o status do navegador
        if (!navigator.onLine) return false;
        try {
          // HEAD/GET leve com no-store para evitar cache velho
          const res = await fetch(RETRY_PATH, { method: 'HEAD', cache: 'no-store' });
          return res.ok;
        } catch(e){ return false; }
      }

      async function maybeRecover(){
        if (await onlineCheck()) {
          location.replace(RETRY_PATH);
        }
      }

      // Tentar regularmente: 5s, 10s, depois a cada 30s
      setTimeout(maybeRecover, 5000);
      setTimeout(maybeRecover, 10000);
      setInterval(maybeRecover, 30000);
    })();
  </script>
</body>
</html>
